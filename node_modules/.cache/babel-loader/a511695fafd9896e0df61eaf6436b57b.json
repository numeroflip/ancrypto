{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/aronberenyi/Code/ancrypto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    border: 0;\\n    border: 1px solid transparent;\\n    padding: var(--m) var(--l);\\n    box-shadow: var(--shadow);\\n    border-radius: var(--radius);\\n    margin: 0 auto;\\n    margin-bottom: var(--l);\\n    color: var(--color-main-darker);\\n    font-size: var(--mx);\\n    background: var(--color-background);\\n    max-width: 400px;\\n\\n    &:focus {\\n        border-color: var(--color-main-darker)\\n    }\\n\\n    @media(max-width: \",\") {\\n        width: 100%;\\n        font-size: var(--l);\\n    }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    display: flex;\\n    align-items: center;\\n    flex-direction: column;\\n    justify-content: center;\\n    flex-wrap: wrap;\\n\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    font-size: var(--xl);\\n    margin: var(--xl) 0;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import styled from'styled-components';import React,{useContext}from'react';import{breakPoints}from'../Shared/GlobalTheme';import fuzzy from'fuzzy';import{DataContext}from'../contexts';import _ from'lodash';import{H2}from'../Shared';var Title=styled(H2)(_templateObject());var Form=styled.form(_templateObject2());var SearchInput=styled.input(_templateObject3(),breakPoints.mobile);var handleFilter=_.debounce(function(userQuery,coinList,setFilteredCoins){if(!userQuery){setFilteredCoins([]);return null;}//  Get all the coin symbols\nvar coinSymbols=Object.keys(coinList);// // Get all the coin names and map symbol to name\nvar coinNames=coinSymbols.map(function(sym){return coinList[sym].CoinName;});var allStringsToSearch=coinSymbols.concat(coinNames);// A list of both symbols and names to search  \nvar fuzzyResults=fuzzy.filter(userQuery,allStringsToSearch,{}).map(function(result){return result.string;});var filteredCoins=_.pickBy(coinList,function(result,symkey){var coinName=result.CoinName;return fuzzyResults.includes(symkey)||fuzzyResults.includes(coinName);});setFilteredCoins(filteredCoins);},300);function filterCoins(e,setFilteredCoins,coinList){var userQuery=e.target.value;handleFilter(userQuery,coinList,setFilteredCoins);}var Search=function Search(_ref){var setFilteredCoins=_ref.setFilteredCoins;var _useContext=useContext(DataContext),coinList=_useContext.coinList;return/*#__PURE__*/React.createElement(Form,{onSubmit:function onSubmit(e){e.preventDefault();}},/*#__PURE__*/React.createElement(Title,null,\"Search\"),/*#__PURE__*/React.createElement(SearchInput,{onKeyUp:function onKeyUp(e){return filterCoins(e,setFilteredCoins,coinList);},name:\"searc\",placeholder:\"search\"}));};export default Search;","map":{"version":3,"sources":["/home/aronberenyi/Code/ancrypto/src/components/Settings/Search.js"],"names":["styled","React","useContext","breakPoints","fuzzy","DataContext","_","H2","Title","Form","form","SearchInput","input","mobile","handleFilter","debounce","userQuery","coinList","setFilteredCoins","coinSymbols","Object","keys","coinNames","map","sym","CoinName","allStringsToSearch","concat","fuzzyResults","filter","result","string","filteredCoins","pickBy","symkey","coinName","includes","filterCoins","e","target","value","Search","preventDefault"],"mappings":"+vCAAA,MAAOA,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,WAAT,KAA4B,uBAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,OAAQC,EAAR,KAAiB,WAAjB,CAGA,GAAMC,CAAAA,KAAK,CAAGR,MAAM,CAACO,EAAD,CAAT,mBAAX,CAIA,GAAME,CAAAA,IAAI,CAAGT,MAAM,CAACU,IAAV,oBAAV,CAUA,GAAMC,CAAAA,WAAW,CAAGX,MAAM,CAACY,KAAV,oBAiBOT,WAAW,CAACU,MAjBnB,CAAjB,CAwBA,GAAMC,CAAAA,YAAY,CAAGR,CAAC,CAACS,QAAF,CAAW,SAACC,SAAD,CAAYC,QAAZ,CAAsBC,gBAAtB,CAA2C,CAEvE,GAAI,CAACF,SAAL,CAAgB,CAACE,gBAAgB,CAAC,EAAD,CAAhB,CAAsB,MAAO,KAAP,CAAY,CACvD;AACI,GAAMC,CAAAA,WAAW,CAAGC,MAAM,CAACC,IAAP,CAAYJ,QAAZ,CAApB,CACJ;AAEI,GAAMK,CAAAA,SAAS,CAAGH,WAAW,CAACI,GAAZ,CAAgB,SAAAC,GAAG,QAAIP,CAAAA,QAAQ,CAACO,GAAD,CAAR,CAAcC,QAAlB,EAAnB,CAAlB,CACA,GAAIC,CAAAA,kBAAkB,CAAGP,WAAW,CAACQ,MAAZ,CAAmBL,SAAnB,CAAzB,CAAuD;AACvD,GAAIM,CAAAA,YAAY,CAAGxB,KAAK,CACnByB,MADc,CACPb,SADO,CACIU,kBADJ,CACwB,EADxB,EAEdH,GAFc,CAEV,SAAAO,MAAM,QAAIA,CAAAA,MAAM,CAACC,MAAX,EAFI,CAAnB,CAIA,GAAIC,CAAAA,aAAa,CAAG1B,CAAC,CAAC2B,MAAF,CAAShB,QAAT,CAAmB,SAACa,MAAD,CAASI,MAAT,CAAoB,CACvD,GAAIC,CAAAA,QAAQ,CAAGL,MAAM,CAACL,QAAtB,CACA,MAAOG,CAAAA,YAAY,CAACQ,QAAb,CAAsBF,MAAtB,GAAiCN,YAAY,CAACQ,QAAb,CAAsBD,QAAtB,CAAxC,CACC,CAHe,CAApB,CAMAjB,gBAAgB,CAACc,aAAD,CAAhB,CAGH,CAtBoB,CAsBlB,GAtBkB,CAArB,CAwBA,QAASK,CAAAA,WAAT,CAAqBC,CAArB,CAAwBpB,gBAAxB,CAA0CD,QAA1C,CAAoD,CAChD,GAAMD,CAAAA,SAAS,CAAGsB,CAAC,CAACC,MAAF,CAASC,KAA3B,CACA1B,YAAY,CAACE,SAAD,CAAYC,QAAZ,CAAsBC,gBAAtB,CAAZ,CACH,CAED,GAAMuB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAyB,IAAtBvB,CAAAA,gBAAsB,MAAtBA,gBAAsB,iBAGpBhB,UAAU,CAACG,WAAD,CAHU,CAGjCY,QAHiC,aAGjCA,QAHiC,CAKpC,mBACI,oBAAC,IAAD,EAAM,QAAQ,CAAE,kBAAAqB,CAAC,CAAI,CAACA,CAAC,CAACI,cAAF,GAAmB,CAAzC,eACI,oBAAC,KAAD,eADJ,cAEI,oBAAC,WAAD,EACI,OAAO,CAAE,iBAACJ,CAAD,QAAOD,CAAAA,WAAW,CAACC,CAAD,CAAIpB,gBAAJ,CAAsBD,QAAtB,CAAlB,EADb,CAEI,IAAI,CAAC,OAFT,CAGI,WAAW,CAAC,QAHhB,EAFJ,CADJ,CAUH,CAfD,CAiBA,cAAewB,CAAAA,MAAf","sourcesContent":["import styled from 'styled-components'\nimport React, { useContext } from 'react'\nimport { breakPoints } from '../Shared/GlobalTheme'\nimport fuzzy from 'fuzzy'\nimport { DataContext } from '../contexts'\nimport _ from 'lodash'\nimport {H2} from '../Shared'\n\n\nconst Title = styled(H2)`\n    font-size: var(--xl);\n    margin: var(--xl) 0;\n`\nconst Form = styled.form`\n    width: 100%;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    justify-content: center;\n    flex-wrap: wrap;\n\n`\n\nconst SearchInput = styled.input`\n    border: 0;\n    border: 1px solid transparent;\n    padding: var(--m) var(--l);\n    box-shadow: var(--shadow);\n    border-radius: var(--radius);\n    margin: 0 auto;\n    margin-bottom: var(--l);\n    color: var(--color-main-darker);\n    font-size: var(--mx);\n    background: var(--color-background);\n    max-width: 400px;\n\n    &:focus {\n        border-color: var(--color-main-darker)\n    }\n\n    @media(max-width: ${breakPoints.mobile}) {\n        width: 100%;\n        font-size: var(--l);\n    }\n`\n\n\nconst handleFilter = _.debounce((userQuery, coinList, setFilteredCoins) => {\n\n    if (!userQuery) {setFilteredCoins([]); return null}\n//  Get all the coin symbols\n    const coinSymbols = Object.keys(coinList)\n// // Get all the coin names and map symbol to name\n\n    const coinNames = coinSymbols.map(sym => coinList[sym].CoinName)\n    let allStringsToSearch = coinSymbols.concat(coinNames) // A list of both symbols and names to search  \n    let fuzzyResults = fuzzy\n        .filter(userQuery, allStringsToSearch, {})\n        .map(result => result.string)\n\n    let filteredCoins = _.pickBy(coinList, (result, symkey) => {\n        let coinName = result.CoinName;\n        return fuzzyResults.includes(symkey) || fuzzyResults.includes(coinName)\n        })\n\n\n    setFilteredCoins(filteredCoins);\n    \n\n}, 300)\n\nfunction filterCoins(e, setFilteredCoins, coinList) {\n    const userQuery = e.target.value;\n    handleFilter(userQuery, coinList, setFilteredCoins);\n}\n\nconst Search = ({ setFilteredCoins}) => {\n    const { \n      //setFilteredCoins,\n       coinList } = useContext(DataContext)\n        \n    return (\n        <Form onSubmit={e => {e.preventDefault()}}>\n            <Title>Search</Title>\n            <SearchInput\n                onKeyUp={(e) => filterCoins(e, setFilteredCoins, coinList)}\n                name=\"searc\"\n                placeholder=\"search\"\n                />\n        </Form>\n    )\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}