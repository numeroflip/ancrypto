{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/aronberenyi/Code/ancrypto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject9(){var data=_taggedTemplateLiteral([\"\\n  grid-column: 1/3;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n\"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n  justify-self: start;\\n  font-size: var(--m);\\n  font-weight: 500;\\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n    color: var(--color-danger-dark);\\n  \"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  font-size: var(--m);\\n  justify-self: end;\\n  color: var(--color-success-dark);\\n\\n  \",\"\\n\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  justify-self: start;\\n\\n  font-size: \",\";\\n  font-weight: 700;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n    opacity: 1;\\n    pointer-events: none;\\n    box-shadow: var(--shadow);\\n    border-color: var(--color-main-dark);\\n    transform: scale(1.05);\\n\\n  \"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    font-size: var(--l);\\n  \"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    pointer-events: none;\\n    opacity: 0.3;\\n    background-color: var(--color-secondary-light);\\n    height: 100%;\\n    box-shadow: none;\\n\\n      \",\" {\\n        font-weight: 400;\\n      }\\n\\n\\n  \"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  border: 0;\\n  opacity: 0.8;\\n  box-shadow: var(--shadow);\\n  display: grid;\\n  grid-template-columns: auto 1fr;\\n  align-items: center;\\n  width: 100%;\\n  border-left: var(--s) solid transparent;\\n  \",\"\\n\\n  &:hover {\\n    border-color: var(--color-main-dark);\\n    opacity: 1;\\n    transform: scale(1.05);\\n  }\\n\\n  \",\"\\n\\n  \",\"\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useContext}from'react';import styled,{css}from'styled-components';import{SelectableTile}from'../Shared';import{DataContext}from'../contexts';var formatter=new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:5});var numFormat=function numFormat(number){// return +number.toPrecision(precision)\nreturn formatter.format(number);};var percFormat=function percFormat(percent){return Math.round(percent.toFixed(3)*1000)/1000;};var PriceTileStyled=styled(SelectableTile)(_templateObject(),function(props){return props.noData&&css(_templateObject2(),Price);},function(props){return props.compact&&css(_templateObject3());},function(props){return props.currFavourite&&css(_templateObject4());});var Price=styled.div(_templateObject5(),function(props){return props.noData?'var(--m)':'var(--mx)';});var ChangePct=styled.div(_templateObject6(),function(props){return props.down&&css(_templateObject7());});var Symbol=styled.div(_templateObject8());var TopBar=styled.div(_templateObject9());var PriceTile=function PriceTile(_ref){var priceObj=_ref.priceObj,index=_ref.index;var _useContext=useContext(DataContext),currFavourite=_useContext.currFavourite,setCurrFavourite=_useContext.setCurrFavourite;var sym=Object.keys(priceObj)[0];// Handling if there is no price data\nvar isData=!priceObj[sym].noData;var data=isData?priceObj[sym]['USD']:{CHANGEPCT24HOUR:false,PRICE:false};return/*#__PURE__*/React.createElement(PriceTileStyled,{noData:!isData,as:\"button\",onClick:function onClick(){return setCurrFavourite(sym);},currFavourite:sym===currFavourite,compact:index<4},/*#__PURE__*/React.createElement(TopBar,null,/*#__PURE__*/React.createElement(Symbol,null,sym),/*#__PURE__*/React.createElement(ChangePct,{down:+data.CHANGEPCT24HOUR<0},isData&&\"\".concat(percFormat(data.CHANGEPCT24HOUR),\"%\"))),/*#__PURE__*/React.createElement(Price,{noData:!isData},isData?numFormat(data.PRICE):'No data'));};export default PriceTile;","map":{"version":3,"sources":["/home/aronberenyi/Code/ancrypto/src/components/Dashboard/PriceTile.js"],"names":["React","useContext","styled","css","SelectableTile","DataContext","formatter","Intl","NumberFormat","style","currency","maximumFractionDigits","numFormat","number","format","percFormat","percent","Math","round","toFixed","PriceTileStyled","props","noData","Price","compact","currFavourite","div","ChangePct","down","Symbol","TopBar","PriceTile","priceObj","index","setCurrFavourite","sym","Object","keys","isData","data","CHANGEPCT24HOUR","PRICE"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\nimport styled, {css} from 'styled-components'\nimport {SelectableTile} from '../Shared'\nimport { DataContext } from '../contexts'\n\nconst formatter = new Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD',\n  maximumFractionDigits: 5\n});\n\n\n\nconst numFormat = (number) => {\n  // return +number.toPrecision(precision)\n  return formatter.format(number)\n}\nconst percFormat = (percent) => {\n  return Math.round(percent.toFixed(3)*1000)/1000\n\n}\n\nconst PriceTileStyled = styled(SelectableTile)`\n  border: 0;\n  opacity: 0.8;\n  box-shadow: var(--shadow);\n  display: grid;\n  grid-template-columns: auto 1fr;\n  align-items: center;\n  width: 100%;\n  border-left: var(--s) solid transparent;\n  ${props => props.noData && css`\n    pointer-events: none;\n    opacity: 0.3;\n    background-color: var(--color-secondary-light);\n    height: 100%;\n    box-shadow: none;\n\n      ${Price} {\n        font-weight: 400;\n      }\n\n\n  `}\n\n  &:hover {\n    border-color: var(--color-main-dark);\n    opacity: 1;\n    transform: scale(1.05);\n  }\n\n  ${props => props.compact && css`\n    font-size: var(--l);\n  `}\n\n  ${props => props.currFavourite && css`\n    opacity: 1;\n    pointer-events: none;\n    box-shadow: var(--shadow);\n    border-color: var(--color-main-dark);\n    transform: scale(1.05);\n\n  `}\n`\n\nconst Price = styled.div`\n  justify-self: start;\n\n  font-size: ${props => props.noData ? 'var(--m)' : 'var(--mx)'};\n  font-weight: 700;\n`\n\nconst ChangePct = styled.div`\n  font-size: var(--m);\n  justify-self: end;\n  color: var(--color-success-dark);\n\n  ${props => props.down && css`\n    color: var(--color-danger-dark);\n  `}\n\n`\n\nconst Symbol = styled.div`\n  justify-self: start;\n  font-size: var(--m);\n  font-weight: 500;\n`\n\nconst TopBar = styled.div`\n  grid-column: 1/3;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`\n\n\nconst PriceTile = ({priceObj, index}) => {\n\n  const {currFavourite, setCurrFavourite} = useContext(DataContext)\n  \n  const sym = Object.keys(priceObj)[0]\n  // Handling if there is no price data\n  const isData = !priceObj[sym].noData\n  const data = isData ? priceObj[sym]['USD'] : {CHANGEPCT24HOUR: false, PRICE: false }\n\n\n\n  return (\n    <PriceTileStyled noData={!isData} as='button' onClick={() => setCurrFavourite(sym)} currFavourite={sym === currFavourite} compact={index < 4}>\n      <TopBar>\n        <Symbol>{sym}</Symbol>\n        <ChangePct down={+data.CHANGEPCT24HOUR < 0} >{isData && `${percFormat(data.CHANGEPCT24HOUR)}%`}</ChangePct>\n      </TopBar>\n      <Price noData={!isData}>{isData ? numFormat(data.PRICE) : 'No data'}</Price>\n    </PriceTileStyled>\n  )\n\n}\n\n\nexport default PriceTile"]},"metadata":{},"sourceType":"module"}